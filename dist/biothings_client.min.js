var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,e,d){f!=Array.prototype&&f!=Object.prototype&&(f[e]=d.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var f=0;return function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+f++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(f){var e=0;return $jscomp.iteratorPrototype(function(){return e<f.length?{done:!1,value:f[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};$jscomp.makeIterator=function(f){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=f[Symbol.iterator];return e?e.call(f):$jscomp.arrayIterator(f)};
$jscomp.polyfill=function(f,e,d,k){if(e){d=$jscomp.global;f=f.split(".");for(k=0;k<f.length-1;k++){var g=f[k];g in d||(d[g]={});d=d[g]}f=f[f.length-1];k=d[f];e=e(k);e!=k&&null!=e&&$jscomp.defineProperty(d,f,{configurable:!0,writable:!0,value:e})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(f){function e(){this.batch_=null}function d(a){return a instanceof g?a:new g(function(b,c){b(a)})}if(f&&!$jscomp.FORCE_POLYFILL_PROMISE)return f;e.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};e.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var k=$jscomp.global.setTimeout;e.prototype.asyncExecuteFunction=function(a){k(a,
0)};e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];try{c()}catch(h){this.asyncThrow_(h)}}}this.batch_=null};e.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var g=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(c){b.reject(c)}};g.prototype.createResolveAndReject_=
function(){function a(a){return function(f){c||(c=!0,a.call(b,f))}}var b=this,c=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};g.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof g)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};g.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(c){this.reject_(c);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};g.prototype.reject_=function(a){this.settle_(2,a)};g.prototype.fulfill_=function(a){this.settle_(1,a)};g.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};g.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};var l=new e;g.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};g.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(h){c.reject(h)}};g.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{f(a(b))}catch(v){e(v)}}:b}var f,e,d=new g(function(a,
b){f=a;e=b});this.callWhenSettled_(c(a,f),c(b,e));return d};g.prototype.catch=function(a){return this.then(void 0,a)};g.prototype.callWhenSettled_=function(a,b){function c(){switch(f.state_){case 1:a(f.result_);break;case 2:b(f.result_);break;default:throw Error("Unexpected state: "+f.state_);}}var f=this;null==this.onSettledCallbacks_?l.asyncExecute(c):this.onSettledCallbacks_.push(function(){l.asyncExecute(c)})};g.resolve=d;g.reject=function(a){return new g(function(b,c){c(a)})};g.race=function(a){return new g(function(b,
c){for(var f=$jscomp.makeIterator(a),e=f.next();!e.done;e=f.next())d(e.value).callWhenSettled_(b,c)})};g.all=function(a){var b=$jscomp.makeIterator(a),c=b.next();return c.done?d([]):new g(function(a,f){function e(b){return function(c){g[b]=c;h--;0==h&&a(g)}}var g=[],h=0;do g.push(void 0),h++,d(c.value).callWhenSettled_(e(g.length-1),f),c=b.next();while(!c.done)})};return g},"es6","es3");
$jscomp.checkStringArgs=function(f,e,d){if(null==f)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return f+""};
$jscomp.polyfill("String.prototype.startsWith",function(f){return f?f:function(f,d){var e=$jscomp.checkStringArgs(this,f,"startsWith");f+="";var g=e.length,l=f.length;d=Math.max(0,Math.min(d|0,e.length));for(var a=0;a<l&&d<g;)if(e[d++]!=f[a++])return!1;return a>=l}},"es6","es3");
(function(f){"object"===typeof exports&&"undefined"!==typeof module?module.exports=f():"function"===typeof define&&define.amd?define([],f):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).biothings_client=f()})(function(){return function g(e,d,k){function l(b,h){if(!d[b]){if(!e[b]){var c="function"==typeof require&&require;if(!h&&c)return c(b,!0);if(a)return a(b,!0);h=Error("Cannot find module '"+b+"'");throw h.code="MODULE_NOT_FOUND",h;}h=
d[b]={exports:{}};e[b][0].call(h.exports,function(a){var c=e[b][1][a];return l(c?c:a)},h,h.exports,g,e,d,k)}return d[b].exports}for(var a="function"==typeof require&&require,b=0;b<k.length;b++)l(k[b]);return l}({1:[function(e,d,k){function g(b,e){var g=function(a){return function(b){return new Promise(function(c){return setTimeout(function(){return c(b)},a)})}},d=function(a,b,c){for(var m=Promise.resolve(),d=[],r=0;r<a.length;r+=e.step)(function(){var h=a.slice(r,r+e.step);0!=r&&(m=m.then(g(e.delay)));
m=m.then(function(){return b(h)}).then(function(a){d=d.concat(c(a))})})();return m.then(function(){return d})},k=function(a,b,g){var m=function(){function m(m,n,u){for(;;)switch(d){case 0:return d=1,{value:g(a,b,!1),done:!1};case 1:if(1!=m){d=2;break}d=-1;throw u;case 2:q=p=n,k=q._scroll_id,t=q.total,l={},c(l,b,{scroll_id:k}),h=e.step;case 3:if(!(h<t)){d=5;break}d=6;return{value:g(a,l,!1),done:!1};case 6:if(1!=m){d=7;break}d=-1;throw u;case 7:q=r=n;case 4:h+=e.step;d=3;break;case 5:d=-1;default:return{value:void 0,
done:!0}}}var d=0,r,h,l,t,k,q,p,n={next:function(a){return m(0,a,void 0)},throw:function(a){return m(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();n[Symbol.iterator]=function(){return this};return n}();var d=m.next();return new l.Observable(function(a){var b=function(c){$jscomp.initSymbol();$jscomp.initSymbolIterator();if("function"===typeof c.hits[Symbol.iterator]){for(var e=$jscomp.makeIterator(c.hits),d=e.next();!d.done;d=e.next())a.next(d.value);
c=m.next(c);c.done?a.complete():c.value.then(b)}else a.complete()};d.value.then(b)})},q=function(a,b,d){d=d||"GET";a={q:a};c(a,b);b=e.url+e.query_endpoint;a.fields instanceof Array&&(a.fields=a.fields.join(","));d="GET"==d?p:n;return a.fetch_all?k(b,a,d):d(b,a,!1)},p=function(b,c,e){c=c||{};e=e||!1;b={url:b,method:"get",params:c};e&&(b.validateStatus=function(a){return 200<=a&&300>a||404==a});return a.request(b).then(function(a){return e&&404==a.status?null:a.data})},n=function(b,c){c=c||{};return a.request({url:b,
method:"post",params:c,headers:{"content-type":"application/x-www-form-urlencoded"}}).then(function(a){return a.data})};this.get_step=function(){return e.step};this.set_step=function(a){e.step=a};this.reset_step=function(){step=e.default_step};this.get_metadata=function(a){a=a||{};return p(e.url+e.metadata_endpoint,a,!1)};this.get_annotation=function(a,b,c){c=c||{};b instanceof Array&&(b=b.join(","));a=e.url+e.annotation_endpoint+a;b&&(c.fields=b);return p(a,c,!0)};this.get_annotations=function(a,
b){b=b||{};"string"==typeof a&&(a=a.split(","));var c=e.url+e.annotation_endpoint;return a.length<e.step?(b.ids=a.join(","),n(c,{ids:a.join(",")})):d(a,function(a){b.ids=a.join(",");return n(c,b)},function(a){return a})};this.get_fields=function(a,b){b=b||{};var c=e.url+e.metadata_fields_endpoint;a&&(b.search=a);return p(c,b)};this.query=function(a,b,c){return q(a,b,"GET")};this.query_many=function(a,b){"string"==typeof a&&(a=a.split(","));return d(a,function(a){return q(a.join(","),b,"POST")},function(a){return a})};
this["get"+b]=this.get_annotation;this["get"+b+"s"]=this.get_annotations;h[b]&&c(this,h[b](this));return this}k=e("axios");var l=e("@reactivex/rxjs"),a=k,b=e("./client_configs.json"),c=e("extend"),h=e("./client_extension");k.defaults.headers["user-agent"]="biothings_client Node.JS package";var p={query_endpoint:"/query/",metadata_endpoint:"/metadata",metadata_fields_endpoint:"/metadata/fields",top_level_jsonld_uris:[],delay:1E3,step:1E3,scroll_size:1E3,max_query:1E3};d.exports=function(a,e){e=e||
{};a=a.toLowerCase();if(!b[a]&&!e.url)return null;e={};c(e,p,b[a]);e.default_step=e.step;return g.call({},a,e)}},{"./client_configs.json":2,"./client_extension":3,"@reactivex/rxjs":"@reactivex/rxjs",axios:"axios",extend:"extend"}],2:[function(e,d,k){d.exports={gene:{url:"http://mygene.info/v3",pkg_user_agent_header:"MyGene.py",annotation_endpoint:"/gene/",optionally_plural_object_type:"gene(s)",default_cache_file:"mygene_cache",entity:"gene"},variant:{url:"http://myvariant.info/v1",pkg_user_agent_header:"MyVariant.py",
annotation_endpoint:"/variant/",optionally_plural_object_type:"variant(s)",default_cache_file:"myvariant_cache",entity:"variant",top_level_jsonld_uris:"http://schema.myvariant.info/datasource/cadd http://schema.myvariant.info/datasource/clinvar http://schema.myvariant.info/datasource/dbnsfp http://schema.myvariant.info/datasource/dbsnp http://schema.myvariant.info/datasource/docm http://schema.myvariant.info/datasource/emv http://schema.myvariant.info/datasource/evs http://schema.myvariant.info/datasource/gwassnps http://schema.myvariant.info/datasource/mutdb http://schema.myvariant.info/datasource/snpeff".split(" ")},
chem:{url:"http://mychem.info/v1",pkg_user_agent_header:"MyChem.py",annotation_endpoint:"/chem/",optionally_plural_object_type:"chem(s)",entity:"chem",default_cache_file:"mychem_cache",step:10,max_query:10},taxon:{url:"http://t.biothings.io/v1",pkg_user_agent_header:"MyTaxon.py",annotation_endpoint:"/taxon/",optionally_plural_object_type:"taxon/taxa",entity:"taxon",default_cache_file:"mytaxon_cache"}}},{}],3:[function(e,d,k){d.exports={variant:function(e){return{normalize_vcf:function(e,a,b,c){var d;
for(d=0;d<Math.max(b.length,c.length);d++){var g=d<b.length?b[d]:null;var l=d<c.length?c[d]:null;if(!g||!l||g!=l)break}if(!g&&!l)throw"Invalid ref/alt inputs";a=parseInt(a);g&&l?(a+=d,g=b.substr(d),l=c.substr(d)):(a=a+d-1,g=b.substr(d-1),l=c.substr(d-1));return[e,a,g,l]},format_hgvs:function(d,a,b,c){d.toLowerCase().startsWith("chr")&&(d=d.substr(3));if(b.length==c.length==1)return"chr"+d+":g."+a+b+"\x3e"+c;if(1<b.length&&1==c.length){if(b[0]==c)return c=parseInt(a)+1,b=parseInt(a)+b.length-1,c==
b?"chr"+d+":g."+c+"del":"chr"+d+":g."+c+"_"+b+"del";b=parseInt(a)+b.length-1;return"chr"+d+":g."+a+"_"+b+"delins"+c}if(1==b.length&&1<c.length)return c[0]==b?"chr"+d+":g."+a+"_"+(parseInt(a)+1)+"ins"+c.substr(1):"chr"+d+":g."+a+"delins"+c;if(1<b.length&&1<c.length){if(b[0]==c[0])return c=$jscomp.makeIterator(e.normalize_vcf(d,a,b,c)),d=c.next().value,a=c.next().value,b=c.next().value,c=c.next().value,e.format_hgvs(d,a,b,c);b=parseInt(a)+c.length-1;return"chr"+d+":g."+a+"_"+b+"delins"+c}throw"Cannot convert "+
JSON.stringify({chrom:d,pos:a,ref:b,alt:c})+" into HGVS id.";}}}}},{}]},{},[1])(1)});