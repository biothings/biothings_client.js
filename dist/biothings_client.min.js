var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,h){d!=Array.prototype&&d!=Object.prototype&&(d[c]=h.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var c=0;return $jscomp.iteratorPrototype(function(){return c<d.length?{done:!1,value:d[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.makeIterator=function(d){$jscomp.initSymbolIterator();var c=d[Symbol.iterator];return c?c.call(d):$jscomp.arrayIterator(d)};
$jscomp.polyfill=function(d,c,h,k){if(c){h=$jscomp.global;d=d.split(".");for(k=0;k<d.length-1;k++){var f=d[k];f in h||(h[f]={});h=h[f]}d=d[d.length-1];k=h[d];c=c(k);c!=k&&null!=c&&$jscomp.defineProperty(h,d,{configurable:!0,writable:!0,value:c})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(d){function c(){this.batch_=null}function h(a){return a instanceof f?a:new f(function(b,g){b(a)})}if(d&&!$jscomp.FORCE_POLYFILL_PROMISE)return d;c.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};c.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var k=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(a){k(a,
0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var g=a[b];delete a[b];try{g()}catch(e){this.asyncThrow_(e)}}}this.batch_=null};c.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var f=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(g){b.reject(g)}};f.prototype.createResolveAndReject_=
function(){function a(a){return function(e){g||(g=!0,a.call(b,e))}}var b=this,g=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};f.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};f.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(g){this.reject_(g);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};f.prototype.reject_=function(a){this.settle_(2,a)};f.prototype.fulfill_=function(a){this.settle_(1,a)};f.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};var m=new c;f.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};f.prototype.settleSameAsThenable_=function(a,b){var g=this.createResolveAndReject_();try{a.call(b,g.resolve,g.reject)}catch(e){g.reject(e)}};f.prototype.then=function(a,b){function g(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(p){d(p)}}:b}var e,d,c=new f(function(a,
b){e=a;d=b});this.callWhenSettled_(g(a,e),g(b,d));return c};f.prototype.catch=function(a){return this.then(void 0,a)};f.prototype.callWhenSettled_=function(a,b){function d(){switch(e.state_){case 1:a(e.result_);break;case 2:b(e.result_);break;default:throw Error("Unexpected state: "+e.state_);}}var e=this;null==this.onSettledCallbacks_?m.asyncExecute(d):this.onSettledCallbacks_.push(function(){m.asyncExecute(d)})};f.resolve=h;f.reject=function(a){return new f(function(b,d){d(a)})};f.race=function(a){return new f(function(b,
d){for(var e=$jscomp.makeIterator(a),g=e.next();!g.done;g=e.next())h(g.value).callWhenSettled_(b,d)})};f.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?h([]):new f(function(a,g){function e(d){return function(b){l[d]=b;c--;0==c&&a(l)}}var l=[],c=0;do l.push(void 0),c++,h(d.value).callWhenSettled_(e(l.length-1),g),d=b.next();while(!d.done)})};return f},"es6","es3");
(function(d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define([],d):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).biothings_client=d()})(function(){return function f(c,h,k){function m(b,e){if(!h[b]){if(!c[b]){var g="function"==typeof require&&require;if(!e&&g)return g(b,!0);if(a)return a(b,!0);e=Error("Cannot find module '"+b+"'");throw e.code="MODULE_NOT_FOUND",e;}e=
h[b]={exports:{}};c[b][0].call(e.exports,function(a){var e=c[b][1][a];return m(e?e:a)},e,e.exports,f,c,h,k)}return h[b].exports}for(var a="function"==typeof require&&require,b=0;b<k.length;b++)m(k[b]);return m}({1:[function(c,h,k){function f(a,e){var c=function(a,b,f){for(var c=Promise.resolve(),l=[],g=0;g<a.length;g+=e.step)(function(){var n=a.slice(g,g+e.step);c=c.then(function(){return b(n)}).then(function(a){l=l.concat(f(a))})})();return c.then(function(){return l})},f={get_step:function(){return e.step},
set_step:function(a){e.step=a},reset_step:function(){step=e.default_step},get_metadata:function(a){a=a||{};return f.request_get(e.url+e.metadata_endpoint,a,!1)},get_annotation:function(a,b,c){c=c||{};b instanceof Array&&(b=b.join(","));a=e.url+e.annotation_endpoint+a;b&&(c.fields=b);return f.request_get(a,c,!0)},get_annotations:function(a,b){b=b||{};"string"==typeof a&&(a=a.split(","));var g=e.url+e.annotation_endpoint;if(a.length<e.step)return b.ids=a.join(","),f.request_post(g,{ids:a.join(",")});
c(a,function(a){b.ids=a.join(",");return f.request_post(g,b)},function(a){return a})},get_fields:function(a,b){b=b||{};var c=e.url+e.metadata_fields_endpoint;a&&(b.search=a);return f.request_get(c,b)},query:function(a,c,g){g=g||"GET";final_args={q:a};b(final_args,c);var h=e.url+e.query_endpoint;final_args.fields instanceof Array&&(final_args.fields=final_args.fields.join(","));var l="GET"==g?f.request_get:f.request_post;return final_args.fetch_all?l(h,final_args,!1).then(function(a){var b=a.total,
c=a.hits;final_args.scroll_id=a._scroll_id;remining_items_promise=Promise.resolve(a);for(a=e.step;a<b;a+=e.step)remining_items_promise=remining_items_promise.then(function(a){return l(h,final_args,!1).then(function(a){c=c.concat(a.hits);return a})});return remining_items_promise.then(function(){return c})}):l(h,final_args,!1)},query_many:function(a,b){"string"==typeof a&&(a=a.split(","));return c(a,function(a){return f.query(a.join(","),b,"POST")},function(a){return a})},request_get:function(a,b,
c){b=b||{};c=c||!1;a={url:a,method:"get",params:b};c&&(a.validateStatus=function(a){return 200<=a&&300>a||404==a});return m.request(a).then(function(a){return c&&404==a.status?null:a.data})},request_post:function(a,b){b=b||{};return m.request({url:a,method:"post",params:b,headers:{"content-type":"application/x-www-form-urlencoded"}}).then(function(a){return a.data})}};f["get"+a]=f.get_annotation;f["get"+a+"s"]=f.get_annotations;return f}var m=k=c("axios"),a=c("./client_configs.json"),b=c("extend");
k.defaults.headers["user-agent"]="biothings_client Node.JS package";common_args={query_endpoint:"/query/",metadata_endpoint:"/metadata",metadata_fields_endpoint:"/metadata/fields",top_level_jsonld_uris:[],delay:1,step:1E3,scroll_size:1E3,max_query:1E3};h.exports={get_client:function(c,e){e=e||{};c=c.toLowerCase();if(!a[c]&&!e.url)return null;client_settings={};b(client_settings,common_args,a[c]);client_settings.default_step=client_settings.step;return f(c,client_settings)}}},{"./client_configs.json":2,
axios:"axios",extend:"extend"}],2:[function(c,h,k){h.exports={gene:{url:"http://mygene.info/v3",pkg_user_agent_header:"MyGene.py",annotation_endpoint:"/gene/",optionally_plural_object_type:"gene(s)",default_cache_file:"mygene_cache",entity:"gene"},variant:{url:"http://myvariant.info/v1",pkg_user_agent_header:"MyVariant.py",annotation_endpoint:"/variant/",optionally_plural_object_type:"variant(s)",default_cache_file:"myvariant_cache",entity:"variant",top_level_jsonld_uris:"http://schema.myvariant.info/datasource/cadd http://schema.myvariant.info/datasource/clinvar http://schema.myvariant.info/datasource/dbnsfp http://schema.myvariant.info/datasource/dbsnp http://schema.myvariant.info/datasource/docm http://schema.myvariant.info/datasource/emv http://schema.myvariant.info/datasource/evs http://schema.myvariant.info/datasource/gwassnps http://schema.myvariant.info/datasource/mutdb http://schema.myvariant.info/datasource/snpeff".split(" ")},
chem:{url:"http://mychem.info/v1",pkg_user_agent_header:"MyChem.py",annotation_endpoint:"/chem/",optionally_plural_object_type:"chem(s)",entity:"chem",default_cache_file:"mychem_cache",step:10,max_query:10},taxon:{url:"http://t.biothings.io/v1",pkg_user_agent_header:"MyTaxon.py",annotation_endpoint:"/taxon/",optionally_plural_object_type:"taxon/taxa",entity:"taxon",default_cache_file:"mytaxon_cache"}}},{}]},{},[1])(1)});